{"uid":"314e360f20e43c0e","name":"test_finish_submit_order","fullName":"tests.check_out_test.TestCheckOut#test_finish_submit_order","historyId":"d3d58aadeb7c31ca00cf30731b3cd82a","time":{"start":1766406585164,"stop":1766406586243,"duration":1079},"description":"验证提交订单","descriptionHtml":"<p>验证提交订单</p>\n","status":"failed","statusMessage":"AssertionError: 预期提示信息：哈哈哈!，不存在于Thank you for your order!","statusTrace":"self = <tests.check_out_test.TestCheckOut object at 0x7efc98b8c490>\ncheck_out_page = <pages.check_out_page.CheckOutPage object at 0x7efc98b27b80>\n\n    def test_finish_submit_order(self, check_out_page):\n        \"\"\"验证提交订单\"\"\"\n        check_out_page.prepare(URLS[ENV][\"inventory\"], ADD_PRODUCT_NUM, \"/cart.html\", \"/checkout-step-one.html\")\n        check_out_page.fill_container(CONTAINER_INFO[\"first_name\"], CONTAINER_INFO[\"last_name\"],\n                                      CONTAINER_INFO[\"postal\"])\n        check_out_page.stet_one_continue(\"/checkout-step-two.html\")\n        check_out_page.verify_order_products_match_added()\n        check_out_page.verify_order_base_info()\n        check_out_page.step_two_submit(\"/checkout-complete.html\")\n>       check_out_page.verify_submit_order(FINISH_PAGE_MESSAGE)\n\ntests/check_out_test.py:50: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npages/check_out_page.py:151: in verify_submit_order\n    CheckOutAssert.tips_message(self.text(self.finish_message), finish_message)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nactual_msg = 'Thank you for your order!', expect_msg = '哈哈哈!'\n\n    @staticmethod\n    def tips_message(actual_msg: str, expect_msg: str):\n        \"\"\"收件人为空，点击continue按钮\"\"\"\n>       assert expect_msg in actual_msg, f\"预期提示信息：{expect_msg}，不存在于{actual_msg}\"\nE       AssertionError: 预期提示信息：哈哈哈!，不存在于Thank you for your order!\n\nassertions/check_out_assert.py:10: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":2,"retriesStatusChange":false,"beforeStages":[{"name":"_verify_url","time":{"start":1766406566415,"stop":1766406566415,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"delete_output_dir","time":{"start":1766406566415,"stop":1766406566415,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clean_screenshot","time":{"start":1766406566415,"stop":1766406566416,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1766406566415,"stop":1766406566415,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"base_url","time":{"start":1766406566415,"stop":1766406566415,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ensure_login_state","time":{"start":1766406566416,"stop":1766406568203,"duration":1787},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright_instance","time":{"start":1766406568203,"stop":1766406568472,"duration":269},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"browser","time":{"start":1766406568472,"stop":1766406568525,"duration":53},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"context","time":{"start":1766406585100,"stop":1766406585139,"duration":39},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"page","time":{"start":1766406585139,"stop":1766406585164,"duration":25},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"check_out_page","time":{"start":1766406585164,"stop":1766406585164,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"验证提交订单","status":"failed","statusMessage":"AssertionError: 预期提示信息：哈哈哈!，不存在于Thank you for your order!","statusTrace":"self = <tests.check_out_test.TestCheckOut object at 0x7efc98b8c490>\ncheck_out_page = <pages.check_out_page.CheckOutPage object at 0x7efc98b27b80>\n\n    def test_finish_submit_order(self, check_out_page):\n        \"\"\"验证提交订单\"\"\"\n        check_out_page.prepare(URLS[ENV][\"inventory\"], ADD_PRODUCT_NUM, \"/cart.html\", \"/checkout-step-one.html\")\n        check_out_page.fill_container(CONTAINER_INFO[\"first_name\"], CONTAINER_INFO[\"last_name\"],\n                                      CONTAINER_INFO[\"postal\"])\n        check_out_page.stet_one_continue(\"/checkout-step-two.html\")\n        check_out_page.verify_order_products_match_added()\n        check_out_page.verify_order_base_info()\n        check_out_page.step_two_submit(\"/checkout-complete.html\")\n>       check_out_page.verify_submit_order(FINISH_PAGE_MESSAGE)\n\ntests/check_out_test.py:50: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \npages/check_out_page.py:151: in verify_submit_order\n    CheckOutAssert.tips_message(self.text(self.finish_message), finish_message)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nactual_msg = 'Thank you for your order!', expect_msg = '哈哈哈!'\n\n    @staticmethod\n    def tips_message(actual_msg: str, expect_msg: str):\n        \"\"\"收件人为空，点击continue按钮\"\"\"\n>       assert expect_msg in actual_msg, f\"预期提示信息：{expect_msg}，不存在于{actual_msg}\"\nE       AssertionError: 预期提示信息：哈哈哈!，不存在于Thank you for your order!\n\nassertions/check_out_assert.py:10: AssertionError","steps":[],"attachments":[{"uid":"a29d0afff97ae5ee","name":"Failure-Screenshot","source":"a29d0afff97ae5ee.png","type":"image/png","size":30583},{"uid":"55630e3fe60654eb","name":"Page-Url","source":"55630e3fe60654eb.txt","type":"text/plain","size":48},{"uid":"b824ce869933ee","name":"Console-Errors","source":"b824ce869933ee.json","type":"application/json","size":223}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"page::0","time":{"start":1766406586312,"stop":1766406586317,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"context::0","time":{"start":1766406586318,"stop":1766406586575,"duration":257},"status":"broken","statusMessage":"AttributeError: ZIP\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/allure_commons/_allure.py\", line 231, in __call__\n    return self._fixture_function(*args, **kwargs)\n  File \"/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/site-packages/_pytest/fixtures.py\", line 924, in _teardown_yield_fixture\n    next(it)\n  File \"/home/runner/work/ui-test-playwright/ui-test-playwright/conftest.py\", line 128, in context\n    attachment_type=allure.attachment_type.ZIP # Allure会自动识别.zip后缀文件\n  File \"/opt/hostedtoolcache/Python/3.10.19/x64/lib/python3.10/enum.py\", line 437, in __getattr__\n    raise AttributeError(name) from None\n","steps":[],"attachments":[{"uid":"bd570eb3bbade06c","name":"Playwright-Video","source":"bd570eb3bbade06c.webm","type":"video/webm","size":169623}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},{"name":"browser::0","time":{"start":1766406594653,"stop":1766406594687,"duration":34},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"playwright_instance::0","time":{"start":1766406594687,"stop":1766406594703,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"need_login"},{"name":"tag","value":"ui"},{"name":"parentSuite","value":"tests"},{"name":"suite","value":"check_out_test"},{"name":"subSuite","value":"TestCheckOut"},{"name":"host","value":"runnervmh13bl"},{"name":"thread","value":"5367-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.check_out_test"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"59c7f52de1b44b05","status":"failed","statusDetails":"AssertionError: 预期提示信息：哈哈哈!，不存在于Thank you for your order!","time":{"start":1766406581675,"stop":1766406582726,"duration":1051}},{"uid":"64e92293147d4cdc","status":"failed","statusDetails":"AssertionError: 预期提示信息：哈哈哈!，不存在于Thank you for your order!","time":{"start":1766406578184,"stop":1766406579227,"duration":1043}}],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":["ui","need_login"]},"source":"314e360f20e43c0e.json","parameterValues":[]}